<div class="panel panel-primary">
  <!-- Default panel contents -->
  <div class="panel-heading clearfix">Postos

    <div class="btn-group pull-right">
        <a href="javascript:;" class="btn btn-default btn-sm"
        (click)="criaObjetoPosto(undefined)" data-toggle="modal" data-target="#myModal">Novo</a>
      </div>
  </div>
  <div class="panel-body"> <!-- style="height: calc(100vh - 200px);overflow-y:auto;" -->
    <!-- Filtros  -->
    <div class="row">
      <div class="row" style="display:none;"><!-- recarregar o grid após alterar registro  -->
        <button type="button" class="btn btn-info" (click)="this.getPostos()" id="recarregaGrid" name="recarregaGrid">
      </button>
      </div>
      <div class="col-sm-2 col-md-2">
        <label for="nome">Nome</label>
        <input class="form-control" type="text" id="nomePosto" name="nomePosto" required
          [(ngModel)]="nomePosto">
      </div>
      <div class="col-sm-2 col-md-2">
        <label for="bandeiraPosto">Bandeira</label>
        <select class="form-control" [(ngModel)]="bandeiraPosto" name="bandeiraPosto">
          <option [ngValue]="_" >Todos</option>
          <option *ngFor="let bandeira of parametroFormulario['bandeiras']"
            [ngValue]="bandeira.id" >{{bandeira.nome}}</option>
        </select>
      </div>
      <div class="col-sm-6 col-md-6">
        <label for="enderecoPosto">Endereço</label>
        <input class="form-control" type="text" id="enderecoPosto" name="enderecoPosto" required
          [(ngModel)]="enderecoPosto">
      </div>
      <div class="col-sm-2 col-md-2 ">
        <label for="buscar">Pesquisar</label><br>
        <button type="button" class="btn btn-info" (click)="getPostosComFiltro()" id="buscar" name="buscar">
          <span class="glyphicon glyphicon-search"></span>
        </button>
      </div>
    </div>
    <div class="row top-buffer">
      <!-- Table -->
      <table class="table table-bordered table-hover" >
        <thead>
          <tr>
            <th class="text-center">#</th>
            <th class="text-center">Nome</th>
            <th class="text-center">Endereço</th>
            <th class="text-center">Coord X</th>
            <th class="text-center">Coord Y</th>
            <th class="text-center">Bandeira</th>
            <th class="text-center">Excluir</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor='let posto of postos; let currentElementIndex = index;' style="cursor:pointer;"
          >

            <td   (click)="criaObjetoPosto(posto)" data-toggle="modal" data-target="#myModal">{{currentElementIndex}}</td>
            <td   (click)="criaObjetoPosto(posto)" data-toggle="modal" data-target="#myModal">{{posto.nome | slice:0:20}}</td>
            <td   (click)="criaObjetoPosto(posto)" data-toggle="modal" data-target="#myModal">{{posto.endereco | slice:0:35}}</td>
            <td   (click)="criaObjetoPosto(posto)" data-toggle="modal" data-target="#myModal">{{posto.coordenadaX}}</td>
            <td   (click)="criaObjetoPosto(posto)" data-toggle="modal" data-target="#myModal">{{posto.coordenadaY}}</td>
            <td   (click)="criaObjetoPosto(posto)" data-toggle="modal" data-target="#myModal">{{posto.bandeiraPosto.nome}}</td>
  
            <td><button type="button" class="btn btn-info" (click)="this.deletePosto(posto)" id="deletePosto" name="deletePosto">
            X
          </button></td>
          </tr>
        </tbody>
      </table>
    <div>
    <nav>
      <ul class="pagination" max-size="10">
        <li>
          <a href="javascript:;" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li *ngFor='let item of createRange(); let currentElementIndex = index;'>
          <a href="javascript:;" (click)="calculaRange(item)">
          {{currentElementIndex+1}}</a></li>
        <li>
          <a href="javascript:;" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<app-posto-form [parametros]="parametroFormulario"></app-posto-form>
